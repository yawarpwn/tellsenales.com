import{A as C,y as v,s as k}from"./chunks/hooks.module.58270b13.js";/* empty css                          */import{o as t}from"./chunks/jsxRuntime.module.4e005c74.js";import"./chunks/preact.module.0b8ca6e8.js";const{replace:I}="",O=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,T={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},y=r=>T[r],f=r=>I.call(r,O,y),P=({headings:r=[],isMobile:s})=>{const l={onThisPage:"En est\xE1 pagina",overview:"Sinopsis"};r=[{depth:2,slug:"overview",text:l.overview},...r].filter(({depth:e})=>e>1&&e<4);const c=C(),[d,h]=v("overview"),[u,g]=v(!s),p="on-this-page-heading",m=({children:e})=>s?t("details",{open:u,onToggle:n=>g(n.target.open),class:"toc-mobile-container",children:e}):e,w=({children:e})=>{const n=r.find(({slug:o})=>o===d);return s?t("summary",{class:"toc-mobile-header",children:t("div",{class:"toc-mobile-header-content",children:[t("div",{className:"toc-toggle",children:[e,t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 1 16 16",width:"16",height:"16","aria-hidden":"true",children:t("path",{"fill-rule":"evenodd",d:"M6.22 3.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L9.94 8 6.22 4.28a.75.75 0 010-1.06z"})})]}),!u&&n?.slug!=="overview"&&t("span",{class:"toc-current-heading",children:f(n?.text||"")})]})}):e};k(()=>{if(!c.current)return;const e=i=>{for(const a of i)if(a.isIntersecting){const{id:x}=a.target;if(x===p)continue;h(a.target.id);break}},n={rootMargin:"-100px 0% -66%",threshold:1},o=new IntersectionObserver(e,n);return document.querySelectorAll("article :is(h1,h2,h3)").forEach(i=>o.observe(i)),()=>o.disconnect()},[c.current]);const b=e=>{!s||(g(!1),h(e.target.getAttribute("href").replace("#","")))};return t(m,{children:[t(w,{children:t("h2",{class:"heading",id:p,children:l.onThisPage})}),t("ul",{ref:c,children:r.map(({depth:e,slug:n,text:o})=>t("li",{class:`header-link depth-${e} ${d===n?"current-header-link":""}`.trim(),children:t("a",{href:`#${n}`,onClick:b,children:f(o)})}))})]})};export{P as default};
