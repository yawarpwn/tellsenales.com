---
import manifest from '../../config/manifest.json'
import ThemeToggleButton from '@components/theme-toggle-button'
// import { removeTrailingSlash, removeLeadingSlash } from '@utils/index'
export interface Props {
	currentPage: string
}
const { currentPage } = Astro.props
import SidebarContent from './sidebar-content.astro'
// const currentPageMatch = removeLeadingSlash(removeTrailingSlash(currentPage))
---

<nav>
	<ul class="nav-groups">
		{
			manifest.routes.map((routes) => (
				<SidebarContent navigation={routes} currentPage={currentPage} />
			))
		}

		<li style="text-align: center;">
			<ThemeToggleButton client:visible />
		</li>
	</ul>
</nav>

<style>
	nav {
		width: 100%;
		height: 100%;
		font-size: var(--theme-text-sm);
	}

	.nav-groups {
		padding-top: 1rem;
		max-height: 100%;
		overflow-x: visible;
		overflow-y: auto;
	}
</style>
